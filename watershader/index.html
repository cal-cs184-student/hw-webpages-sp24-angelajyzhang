<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
  body {
    background-color: white;
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
  kbd {
    color: #121212;
  }
</style>
<title>CS 184 Mesh Edit</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">

<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    }
  };
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>

</head>


<body>

<h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2024</h1>
<h1 align="middle">Final Project: WaterShader</h1>
<h2 align="middle">Aayush Patel, Angela Zhang, Dante Hays, Jaewon Oh</h2>

<br><br>

<div>

<h2 align="middle">Overview/Summary</h2>
<p>
    The aim of our project is to develop new shaders for Minecraft which allows for a more realistic gaming experience.
    In particular, we are trying to make water look more realistic with regards to color shifting at depth, refraction,
    and reflection. In general we aim to make water in minecraft more dynamic.
</p>
<p>
  So far, we made some progress in our research phase by looking into the physics of reflection and reflection in water and 
  by experimenting with a minecraft clone, Craft, where we attempted to simulate a water block (since they don't have on built-in) that 
  we can test our shaders on.
</p>
<br>

<h3 align="middle">Progress</h3>
    So far we have decided to use a minecraft clone for easier interfacing with new textures and shaders.
    The github page is linked <a href="https://github.com/fogleman/Craft?tab=readme-ov-file">here</a>. We have also poked
    through the code to get a better understanding of how the clone handles light, shadows, and adjusts color and shade accordingly.
    To that end we have developed a few preliminary shaders by adjusting the default png textures.

    <div align="center">
        <table>
            <tr>
                <td align="center">
                    <img src="./images/texture3.png" width="400px"/>
                    <figcaption>Water textures with rudimentary attempts at handling transparency</figcaption>
                </td>
                <td align="center">
                    <img src="./images/firstwaterpic.png" width="400px"/>
                    <figcaption>Picture of preliminary water texture in game. Note that there is not true transparency, since the "floor" of the image is not opaque -- we will have to handle this separately for blocks of water. </figcaption>
                </td>
            </tr>
        </table>
    </div>
    <p>While this is far from what we hope the final product will be, we have a better understanding of how the program handles
    connected blocks, blending, vanishing points, transparency, and reflection. From here we can begin to move forward towards more
        detailed renders. </p>

    <p>
      We also did some preliminary research into how light behaves through refraction and reflection. A Fresnel term/equation tells us how 
      much light is reflected and refracted when it crosses a border between different media, namely between water and air. We can apply 
      the Freshenl term to find reflection and refraction textures. A diagram of this behavior is shown below, along with the equation to 
      calculate the Fresnel term:
    </p>

    <div align="center">
      <table>
        <tr>
          <td>
            <img src="./images/lightbehavior.png" width="400px"/>
          </td>
          <td>
            <img src="./images/fresnel.png" width="400px"/>
          </td>
        </tr>
      </table>
    </div>

  <p>
    where <code>n<sub>a</sub></code> and <code>n<sub>b</sub></code> are the refraction coefficients of materials A and B, and c is the
    term calculated by the following equation:
  </p>

  <div align="center">
    <img src="./images/calculation.png" width="400px"/>
  </div>

    <p>This is also somewhat behind schedule as we had hoped to implement rudimentary refraction and reflection algorithms by this point.
    As such, we have adjusted our goals so that our simulation of water is less dynamic than we'd hoped. We are also limited by
        the hardware limitations associated with rendering water in real time, meaning our renders may be less detailed than originally intended. </p>


    Here is our updated schedule with the above in mind. We believe our previous goals are still largely attainable, but we may lose some detail and dynamicism:

    <h4 align="middle"> Schedule</h4>

    <p>
    Friday, April 12:
    Do research on water properties such as reflection, refraction, and waves.
    Connect a Minecraft world to our code.
    </p>

    <p>
    Tuesday, April 16 [Milestone]: 
    Have some basic shaders to understand transparency, and how light is handled in the minecraft clone.
    </p>

    <p>
    Friday, April 19: 
    Apply feedback that we got
    Apply rudimentary reflection/refraction model
    Understand how blending works to adjust shading depending on camera position
    Understand how shaders work in the minecraft clone currently
    </p>

    <p>
    Tuesday, April 23: 
    Keep working on reflection/refraction model
    Improve coloring accuracy
    </p>

    <p>
    Friday, April 26: 
    Improve speed and efficiency of our program
    Work on vertex displacement for bigger waves
    </p>

    <p>
    Monday, April 29: 
    Record video + write report with one buffer day
    </p>



    <h3 align="middle"></h3>


</body>
</html>
